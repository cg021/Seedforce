/*
 * Copyright (c) 2018, salesforce.com, inc.
 * All rights reserved.
 * SPDX-License-Identifier: MIT
 * For full license text, see the LICENSE file in the repo root or https://opensource.org/licenses/MIT
 */
const fs = require('fs');
const path = require('path');

exports.loadDowngrade = function loadDowngrade() {
    return fs.readFileSync(path.join(__dirname, 'downgrade.js'),'utf-8');
}

exports.loadPolyfills = function({ downgrade = false } = { downgrade: false }) {
    const polyfillsSrc = fs.readFileSync(path.join(__dirname, 'polyfills.js'),'utf-8');
    const downgradeSrc = downgrade ? loadDowngrade() : '';
    return downgradeSrc + polyfillsSrc;
}
